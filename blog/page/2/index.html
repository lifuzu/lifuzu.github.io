
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Build and Release</title>
  <meta name="author" content="Richard Li">

  
  <meta name="description" content="Have no any idea what to do today after dinner, although I have some homeworks need to submit soon, I still decided to try something new in a short &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://lifuzu.com/blog/page/2">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Build and Release" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Build and Release</a></h1>
  
    <h2>A continuous learner for experience and life.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:lifuzu.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <!--<li><a href="/home.html">Home</a></li>-->
  <li><a href="/">Blog</a></li>
  <li><a href="/playard/">Playard</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/01/31/getting-started-with-scala/">Getting Started With Scala</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-01-31T21:58:42-08:00" pubdate data-updated="true">Jan 31<span>st</span>, 2015</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img src="http://grab.by/grabs/d3bb7c13cd4b40142fab4a7eb0ef7155.png" alt="enter image description here" />
Have no any idea what to do today after dinner, although I have some homeworks need to submit soon, I still decided to try something new in a short time. I recalled I read an article yesterday on stackshare.io, it seems there is a company named instacarts tried Scala programming language to setup their development stack. I am very curious on the programming language, it seems someone said: &ldquo;Speaking More Than One Language Could Sharpen Your Brain.&rdquo;, how about Scala?</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2015/01/31/getting-started-with-scala/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/01/19/programming-for-andorid-synchronize-actions-with-handler/">Programming for Andorid: Synchronize Actions With Handler</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-01-19T20:32:10-08:00" pubdate data-updated="true">Jan 19<span>th</span>, 2015</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img src="http://rxtracepz.dirkrodgersconsu.netdna-cdn.com/wp-content/uploads/2010/02/synchronized-swimmers.jpg" alt="enter image description here" /></p>

<p>Sometimes, we need to synchronize the actions in a series but not in parallel. For example, we need to download an image then display it on Google Gallery. It seems we cannot display a partial image during downloading. OK, there is another story, probably, we will mention later, for displaying image with a coarse one then detailed the clear picture. Now let&rsquo;s fix how to download an image then display it, without manual interference.</p>

<p>This program bases on the last one: <a href="http://lifuzu.com/blog/2015/01/16/programming-for-android-download/">Programming for Android: Download, Progressbar and FileProvider</a></p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2015/01/19/programming-for-andorid-synchronize-actions-with-handler/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/01/16/programming-for-android-download/">Programming for Android: Download, Progressbar and FileProvider</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-01-16T17:50:20-08:00" pubdate data-updated="true">Jan 16<span>th</span>, 2015</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img src="https://turbotax.intuit.com/handlebars/noncampaign/hp/images/melissa-tablet.jpg" alt="enter image description here" />
In this article, we try to download a file from Internet, show the progress of downloading, then share the file to gallery for displaying with FileProvider.</p>

<p><strong>Keywords</strong>: Android, Programming, Download, Image, Progressbar, FileProvider</p>

<p><strong>Prerequisites</strong>:</p>

<p><em>0</em>. Create an Android project with name: FileProviderExample, you can also clone this project directly from github here: [<a href="https://github.com/lifuzu/FileProviderExample">3</a>]</p>

<p><strong>Steps</strong>:</p>

<p><em>1</em>. Download</p>

<p>We intend to download an image file with foreground mode since we want to block the consequent actions until the download process is complete. If you try to download file(s) with background mode, please reference some other articles <a href="http://stackoverflow.com/questions/3028306/download-a-file-with-android-and-showing-the-progress-in-a-progressdialog">here</a></p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2015/01/16/programming-for-android-download/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/01/14/design-a-reuse-and-de-use-modularized-software-system/">Design a Reuse and &#8216;De-use&#8217; Modularized Software System</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-01-14T09:49:13-08:00" pubdate data-updated="true">Jan 14<span>th</span>, 2015</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img src="http://www.edmentum.com/sites/edmentum.com/files/solutions/content/building_0.jpg" alt="enter image description here" /></p>

<h2>Design a reuse and &lsquo;de-use&rsquo; modularized software system</h2>

<p><strong>Keywords</strong>: reuse, &lsquo;de-use&rsquo;, minimum equipped interface (MEI), strong cohesion, loose coupling, software engineering</p>

<p>Most of the task on software design are to analyze requirements, decompose functionalities and connect the parts of artifacts to fulfill customer requirements.</p>

<p>This time we focus on decomposition of functionalities. Why we need to decompose the requirements to each small module or package, one of the reasons is to reuse them, another reason, I think, is to &lsquo;de-use&rsquo; them. When we do not need any of modules, we can separate them from system very easily, which also provide much convenience for testing. We can test each of the seperated modules, packages or interfaces isolated, without interference between each other.</p>

<p>The goal of the software design, include architectural design and detail design, is to decompose functionalities with the characteristics of strong cohesive, and loose coupled, which means we need a complete, but most minimal system function set. Interface is a very important element between two systems to access those functionalities, in addition to deployment environment. In fact, we can treat the environment as the interface between system and the system host. So we need a minimum equipped interface (MEI), which refers to Minimum Viable Product (MVP) definition.</p>

<p>To achieve the goal, besides an elegant design blueprint, functional prototyping, we also need supports from configuration management and testing. We should have many different configuration profiles to include or exclude the modules according to the reuse and &lsquo;de-use&rsquo; specifications, which we planned in design. Testing should have different test scenarios to verify and/or validate the interfaces, which are exported by modules or packages according the configuration profiles.</p>

<p>Succeed to DCOM and CORBA, the popular technology so far for designing a strong cohesive and loose coupled interface on cloud is REST, which based on the simple HTTP protocol verbs (GET, PUT, POST, DELETE). REST API is an analogous to SQL for interaction between systems on cloud, the latter provides several common verbs to query and manipulate data with relational database, such as SELECT, INSERT, UPDATE, DELETE, etc.</p>

<p>In a conclusion, as the main task for design, we need to decompose functionalities in order to reuse and &lsquo;de-use&rsquo; modules, which act as a container to host functions. The design goal is to make functionality as most as strong cohesive, and loose coupled. We can leverage configuration management and testing to achieve the design goal. REST interface provides a good practice for designing a strong cohesive, and loose coupled cloud system.</p>

<blockquote><p>Written with <a href="https://stackedit.io/">StackEdit</a>.</p></blockquote>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/01/07/setup-mongo-database-master-slave-replication/">Setup Mongo Database Master Slave Replication</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-01-07T13:58:40-08:00" pubdate data-updated="true">Jan 7<span>th</span>, 2015</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img src="http://tapainc.com/images/MongoDB.png" alt="enter image description here" /></p>

<p><strong>Prerequisites</strong>:</p>

<p>You need know the IP or hostname of the Mongo database which should be acted as a master, and you can ping the port 27017 from the mongo database which should be acted as a slave.</p>

<p>Here are some commands might be helpful:</p>

<ul>
<li>To know the external IP of the server:</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ curl http://checkip.dyndns.org/</span></code></pre></td></tr></table></div></figure>


<ul>
<li>To ping the server which you want to connect, on the specific port ( for example: 27017 ):</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ telnet 1.2.3.4 27017</span></code></pre></td></tr></table></div></figure>


<p><strong>Practices</strong>:</p>

<p>Machine A (Master):
Run Mongo Daemon as master:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>mongod --master
</span></code></pre></td></tr></table></div></figure>


<p>Machine B (Slave):
If mongod is running, which is the default behavior when installed, you should stop it before the following steps:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="c"># Stop the mongodb which installed by default</span>
</span><span class='line'><span class="nv">$ </span>sudo stop mongodb
</span></code></pre></td></tr></table></div></figure>


<p>Run Mongo Daemon as slave:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>mongod --slave
</span></code></pre></td></tr></table></div></figure>


<p>Probably you need to specify the dbpath, in case you have any disk space limitation:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>sudo mongod --slave --dbpath /data/mongodb/
</span></code></pre></td></tr></table></div></figure>


<p>Run <code>mongo</code> to open a mongo shell, then config for replication:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>&gt; use <span class="nb">local</span>
</span><span class='line'>&gt; db.sources.find<span class="o">()</span>
</span><span class='line'>&gt; db.sources.insert<span class="o">(</span> <span class="o">{</span> host: &lt;masterhostname&gt; &lt;,only: databasename&gt; <span class="o">}</span> <span class="o">)</span>;
</span></code></pre></td></tr></table></div></figure>


<p>Then you run <code>show dbs</code> in the mongo shell:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>&gt; show dbs
</span></code></pre></td></tr></table></div></figure>


<p>You will find the databasename which we typed behind the <code>only</code> key above displayed.</p>

<p>You may need to run the command multiple times to make sure the replication is going on. For example:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>&gt; show dbs
</span><span class='line'>databasename    17.9453125GB
</span><span class='line'><span class="nb">local   </span>0.078125GB
</span><span class='line'>&gt; show dbs
</span><span class='line'>databasename    19.9443359375GB
</span></code></pre></td></tr></table></div></figure>


<p>You can also run the following commands to show the information of the replication on master and slave side:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="c"># Master side:</span>
</span><span class='line'>&gt; rs.printReplicationInfo<span class="o">()</span> <span class="c"># replace &#39;rs&#39; to &#39;db&#39; for the version prior to 2.6</span>
</span><span class='line'>
</span><span class='line'><span class="c"># Slave side:</span>
</span><span class='line'>&gt; rs.printSlaveReplicationInfo<span class="o">()</span> <span class="c"># same thing as the above command, you need to replace &#39;rs&#39; to &#39;db&#39; if you run the mongodb which version prior to 2.6</span>
</span></code></pre></td></tr></table></div></figure>


<p>Besides, you can run the following command to get a defail status of the server:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>&gt; db.serverStatus<span class="o">()</span>
</span></code></pre></td></tr></table></div></figure>


<p>You might neet to run resync to recover replication:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>&gt; use admin
</span><span class='line'>&gt; db.runCommand<span class="o">(</span> <span class="o">{</span> resync: 1 <span class="o">}</span> <span class="o">)</span>
</span></code></pre></td></tr></table></div></figure>


<p><strong>References</strong>:</p>

<ol>
<li><a href="http://docs.mongodb.org/manual/core/master-slave/">http://docs.mongodb.org/manual/core/master-slave/</a></li>
</ol>


<blockquote><p>Written with <a href="https://stackedit.io/">StackEdit</a>.</p></blockquote>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/08/22/install-gollum/">Install Gollum</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-08-22T11:57:46-07:00" pubdate data-updated="true">Aug 22<span>nd</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img src="https://lh4.googleusercontent.com/-DUpioC7fb_I/U_eSdHggv1I/AAAAAAAACYU/4VJAsLqqCSE/s600/Screen+Shot+2014-08-22+at+11.56.27+AM.png" title="Screen Shot 2014-08-22 at 11.56.27 AM.png" alt="gollum snapshot" /></p>

<p>Gollum is a simple wiki system built on top of Git.</p>

<p>Gollum wikis are simply Git repositories that adhere to a specific format. Gollum pages may be written in a variety of formats and can be edited in a number of ways depending on your needs. You can edit your wiki locally:</p>

<ul>
<li>With your favorite text editor or IDE (changes will be visible after committing).</li>
<li>With the built-in web interface.</li>
<li>With the Gollum Ruby API.</li>
</ul>


<p>Here are steps to install gollum.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2014/08/22/install-gollum/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/08/20/install-nodejs-using-nvm/">Install Nodejs Using NVM</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-08-20T11:44:12-07:00" pubdate data-updated="true">Aug 20<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img src="https://lh3.googleusercontent.com/-1_vzgrh5dnI/U_Tq8koEceI/AAAAAAAACYA/S8xhWfrGSoE/s600/Screen+Shot+2014-08-20+at+11.36.59+AM.png" title="Screen Shot 2014-08-20 at 11.36.59 AM.png" alt="enter image description here" /></p>

<p>An alternative to installing Node.js through apt is to use a specially designed tool called nvm, which stands for &ldquo;Node.js version manager&rdquo;.</p>

<p>Using nvm, you can install multiple, self-contained versions of Node.js which will allow you to control your environment easier. It will give you on-demand access to the newest versions of Node.js, but will also allow you to target previous releases that your app may depend on.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2014/08/20/install-nodejs-using-nvm/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/08/17/join-apple-ios-program/">加入 Apple iOS 开发者计划</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-08-17T10:05:48-07:00" pubdate data-updated="true">Aug 17<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1>起步</h1>

<p>学习开发 iOS 应用程序的第一步是理解注册为 Apple 开发者和 iOS 开发者计划会员的不同。然后决定你在什么时候付费加入 iOS 开发者计划。本章就来谈论一下 Apple 开发者和 iOS 开发者计划的差别，大概需要的费用以及加入开发者计划的好处。最后，一步步告诉大家怎么样加入这些计划成为会员。</p>

<h3>注册成为 Apple 开发者</h3>

<p>注册成为 Apple 开发者不需要费用，很简单，访问以下链接：</p>

<p><a href="http://developer.apple.com/programs/register/">http://developer.apple.com/programs/register/</a></p>

<p>然后按照要求一步步开始注册。
使用 Apple ID 进行注册，这个 Apple ID 就是用来在 iTunes 或者 Apple Store 上面购买商品的账号。
完成这个注册，就可以获得一些开发者资源，例如在线文档，教程等等。开发者也能够下载旧版的 iOS 开发包（SDK），以及 Xcode 开发环境（IDE）。</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2014/08/17/join-apple-ios-program/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/08/05/playing-with-gerrit-jira-plugin/">Playing With Gerrit Jira Plugin</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-08-05T11:05:16-07:00" pubdate data-updated="true">Aug 5<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img src="https://lh5.googleusercontent.com/dDJ6IKUAZN5IZMlt8CmQic457z5BKfJ4WdqXrH2sf5s=s650" title="Gerrit" alt="Gerrit" /></p>

<h3>Build and Setup</h3>

<p><strong>1</strong>. Clone the Gerrit source:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>git clone https://gerrit.googlesource.com/gerrit
</span></code></pre></td></tr></table></div></figure>


<p><strong>2</strong>. Checkout to version 2.8 (2.8 is the latest stable version), include to update submodules:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span><span class="nb">cd </span>gerrit
</span><span class='line'><span class="nv">$ </span>git checkout -b stable-2.8 stable-2.8
</span><span class='line'><span class="nv">$ </span>git submodule update --init --rebase <span class="c"># commands, please referece to git submodule</span>
</span></code></pre></td></tr></table></div></figure>


<p><strong>3</strong>. Clone buck, buck is the build system for the latest Gerrit, then build it with ant (&lsquo;sudo apt-get install ant&rsquo;):</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>git clone https://gerrit.googlesource.com/buck
</span><span class='line'><span class="nv">$ </span><span class="nb">cd </span>buck
</span><span class='line'><span class="nv">$ </span>ant
</span></code></pre></td></tr></table></div></figure>


<p><strong>4</strong>. Install buck to be accessed globally:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>mkdir ~/bin
</span><span class='line'><span class="nv">$ </span><span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span>~/bin:<span class="nv">$PATH</span>
</span><span class='line'><span class="nv">$ </span>ln -s <span class="sb">`</span><span class="nb">pwd</span><span class="sb">`</span>/bin/buck ~/bin/
</span><span class='line'><span class="nv">$ </span>ln -s <span class="sb">`</span><span class="nb">pwd</span><span class="sb">`</span>/bin/buckd ~/bin/
</span><span class='line'><span class="nv">$ </span>which buck
</span></code></pre></td></tr></table></div></figure>


<p><strong>5</strong>. Build Gerrit:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span><span class="nb">cd </span>gerrit
</span><span class='line'><span class="nv">$ </span>buck build gerrit
</span></code></pre></td></tr></table></div></figure>


<blockquote><p><strong>NOTE:</strong> The gerrit.war will be generated here: buck-out/gen/gerrit.war</p></blockquote>

<p><strong>6</strong>. Build extension, plugin, GWT API jar files, and install them:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>buck build api
</span><span class='line'><span class="nv">$ </span>buck build api_install
</span></code></pre></td></tr></table></div></figure>


<p><strong>7</strong>. Build all core plugins (optional):</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>buck build plugins:core
</span></code></pre></td></tr></table></div></figure>


<blockquote><p><strong>NOTE:</strong> All core plugins will be generated here: buck-out/gen/plugins/&lt;name&gt;/&lt;name&gt;.jar</p></blockquote>

<p><strong>8</strong>. Clone the hooks-its, and hooks-jira projects:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>git clone https://gerrit.googlesource.com/plugins/hooks-its plugins/hooks-its
</span><span class='line'><span class="nv">$ </span><span class="nb">cd </span>plugins/hooks-its
</span><span class='line'><span class="nv">$ </span>git checkout -b v2.8 origin/stable-2.8
</span><span class='line'><span class="nv">$ </span><span class="nb">cd</span> ../..
</span><span class='line'><span class="nv">$ </span>git clone https://gerrit.googlesource.com/plugins/hooks-jira plugins/hooks-jira
</span></code></pre></td></tr></table></div></figure>


<p><strong>9</strong>. Modify the pom.xml files under plugins/hooks-its AND plugins/hooks-its/hooks-its:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nb">cd </span>plugins/hooks-its
</span><span class='line'><span class="nv">$ </span>git diff
</span><span class='line'>diff --git a/hooks-its/pom.xml b/hooks-its/pom.xml
</span><span class='line'>index a206459..75e11dc 100644
</span><span class='line'>--- a/hooks-its/pom.xml
</span><span class='line'>+++ b/hooks-its/pom.xml
</span><span class='line'>@@ -22,7 +22,7 @@ limitations under the License.
</span><span class='line'>   &lt;parent&gt;
</span><span class='line'>     &lt;groupId&gt;com.googlesource.gerrit.plugins.its&lt;/groupId&gt;
</span><span class='line'>     &lt;artifactId&gt;hooks-its-parent&lt;/artifactId&gt;
</span><span class='line'>-    &lt;version&gt;2.9-SNAPSHOT&lt;/version&gt;
</span><span class='line'>+    &lt;version&gt;2.8&lt;/version&gt;
</span><span class='line'>   &lt;/parent&gt;
</span><span class='line'>   &lt;artifactId&gt;hooks-its&lt;/artifactId&gt;
</span><span class='line'>   &lt;name&gt;Gerrit Code Review - Commit validation and Workflow&lt;/name&gt;
</span><span class='line'>diff --git a/pom.xml b/pom.xml
</span><span class='line'>index 600bff9..995d008 100644
</span><span class='line'>--- a/pom.xml
</span><span class='line'>+++ b/pom.xml
</span><span class='line'>@@ -22,7 +22,7 @@ limitations under the License.
</span><span class='line'>   &lt;groupId&gt;com.googlesource.gerrit.plugins.its&lt;/groupId&gt;
</span><span class='line'>   &lt;artifactId&gt;hooks-its-parent&lt;/artifactId&gt;
</span><span class='line'>   &lt;packaging&gt;pom&lt;/packaging&gt;
</span><span class='line'>-  &lt;version&gt;2.9-SNAPSHOT&lt;/version&gt;
</span><span class='line'>+  &lt;version&gt;2.8&lt;/version&gt;
</span><span class='line'>
</span><span class='line'>   &lt;name&gt;Gerrit Code Review - Issue tracker support&lt;/name&gt;
</span></code></pre></td></tr></table></div></figure>


<p><strong>10</strong>. Build the hooks-its:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span><span class="nb">cd </span>plugins/hooks-its
</span><span class='line'><span class="nv">$ </span>mvn -DskipTests -Dmaven.test.skip<span class="o">=</span><span class="nb">true </span>package install
</span></code></pre></td></tr></table></div></figure>


<blockquote><p><strong>NOTE:</strong> The hooks-its-2.8.jar will be generated here: hooks-its/target/hooks-its-2.8.jar
<strong>NOTE</strong>: If don&rsquo;t skip tests, run with the command: <code>mvn clean package install</code>, then will fail on test case!
<strong>NOTE</strong>: Gerrit select BUCK as its new build system, for new plugin, please reference to the following <em>NOTES</em> #5</p></blockquote>

<p><strong>11</strong>. Modify the pom.xml files under plugins/hooks-jira:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span><span class="nb">cd </span>plugins/hooks-jira
</span><span class='line'><span class="nv">$ </span>git diff
</span><span class='line'>diff --git a/pom.xml b/pom.xml
</span><span class='line'>index 7b04c60..8f60c78 100644
</span><span class='line'>--- a/pom.xml
</span><span class='line'>+++ b/pom.xml
</span><span class='line'>@@ -20,7 +20,7 @@ limitations under the License.
</span><span class='line'>   &lt;parent&gt;
</span><span class='line'>     &lt;groupId&gt;com.googlesource.gerrit.plugins.its&lt;/groupId&gt;
</span><span class='line'>     &lt;artifactId&gt;hooks-its-parent&lt;/artifactId&gt;
</span><span class='line'>-    &lt;version&gt;2.9-SNAPSHOT&lt;/version&gt;
</span><span class='line'>+    &lt;version&gt;2.8&lt;/version&gt;
</span><span class='line'>   &lt;/parent&gt;
</span><span class='line'>   &lt;artifactId&gt;hooks-jira&lt;/artifactId&gt;
</span><span class='line'>   &lt;packaging&gt;jar&lt;/packaging&gt;
</span></code></pre></td></tr></table></div></figure>


<p><strong>12</strong>. Build the hooks-jira:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span><span class="nb">cd </span>plugins/hooks-jira
</span><span class='line'><span class="nv">$ </span>mvn clean package
</span></code></pre></td></tr></table></div></figure>


<blockquote><p><strong>NOTE:</strong> The hooks-jira-2.8.jar will be generated here: target/hooks-jira-2.8.jar</p></blockquote>

<p><strong>13</strong>. Copy the following jar files to the <code>plugin</code> folder under the Gerrit installation path on remote server:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>hooks-its-2.8.jar
</span><span class='line'>hooks-jira-2.8.jar
</span></code></pre></td></tr></table></div></figure>


<p>For example:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>scp hooks-its/target/hooks-its-2.8.jar ../hooks-jira/target/hooks-jira-2.8.jar gerrit2@review.example.co:/home/gerrit2/review_site/plugins
</span></code></pre></td></tr></table></div></figure>


<p><strong>14</strong>. Add a new file etc/its/action.config under the Gerrit installation path on remote server:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="o">[</span>rule <span class="s2">&quot;merged&quot;</span><span class="o">]</span>
</span><span class='line'>        event-type <span class="o">=</span> change-merged
</span><span class='line'>        <span class="nv">action</span> <span class="o">=</span> add-standard-comment
</span><span class='line'><span class="o">[</span>rule <span class="s2">&quot;comment&quot;</span><span class="o">]</span>
</span><span class='line'>        event-type <span class="o">=</span> comment-added
</span><span class='line'>        <span class="nv">action</span> <span class="o">=</span> add-standard-comment
</span><span class='line'><span class="o">[</span>rule <span class="s2">&quot;patch-set&quot;</span><span class="o">]</span>
</span><span class='line'>        event-type <span class="o">=</span> patchset-created
</span><span class='line'>        <span class="nv">action</span> <span class="o">=</span> add-standard-comment
</span><span class='line'><span class="o">[</span>rule <span class="s2">&quot;ref-updated&quot;</span><span class="o">]</span>
</span><span class='line'>        event-type <span class="o">=</span> ref-updated
</span><span class='line'>        <span class="nv">action</span> <span class="o">=</span> add-standard-comment
</span></code></pre></td></tr></table></div></figure>


<p><strong>15</strong>. Run the Gerrit initial installation command on remote server:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>java -jar gerrit-2.8.war init -d review_site
</span><span class='line'>
</span><span class='line'>*** Gerrit Code Review 2.8
</span><span class='line'>***
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>*** Git Repositories
</span><span class='line'>***
</span><span class='line'>
</span><span class='line'>Location of Git repositories   <span class="o">[</span>git<span class="o">]</span>:
</span><span class='line'>
</span><span class='line'>*** SQL Database
</span><span class='line'>***
</span><span class='line'>
</span><span class='line'>Database server <span class="nb">type</span>           <span class="o">[</span>mysql<span class="o">]</span>:
</span><span class='line'>Server hostname                <span class="o">[</span>localhost<span class="o">]</span>:
</span><span class='line'>Server port                    <span class="o">[(</span>mysql default<span class="o">)]</span>:
</span><span class='line'>Database name                  <span class="o">[</span>reviewdb<span class="o">]</span>:
</span><span class='line'>Database username              <span class="o">[</span>gerrit2<span class="o">]</span>:
</span><span class='line'>Change gerrit2<span class="s1">&#39;s password      [y/N]?</span>
</span><span class='line'>
</span><span class='line'><span class="s1">*** User Authentication</span>
</span><span class='line'><span class="s1">***</span>
</span><span class='line'>
</span><span class='line'><span class="s1">Authentication method          [DEVELOPMENT_BECOME_ANY_ACCOUNT/?]:</span>
</span><span class='line'>
</span><span class='line'><span class="s1">*** Email Delivery</span>
</span><span class='line'><span class="s1">***</span>
</span><span class='line'>
</span><span class='line'><span class="s1">SMTP server hostname           [localhost]:</span>
</span><span class='line'><span class="s1">SMTP server port               [(default)]:</span>
</span><span class='line'><span class="s1">SMTP encryption                [NONE/?]:</span>
</span><span class='line'><span class="s1">SMTP username                  [gerrit2]:</span>
</span><span class='line'><span class="s1">Change gerrit2&#39;</span>s password      <span class="o">[</span>y/N<span class="o">]</span>?
</span><span class='line'>
</span><span class='line'>*** Container Process
</span><span class='line'>***
</span><span class='line'>
</span><span class='line'>Run as                         <span class="o">[</span>gerrit2<span class="o">]</span>:
</span><span class='line'>Java runtime                   <span class="o">[</span>C:<span class="se">\P</span>rogram Files <span class="o">(</span>x86<span class="o">)</span><span class="se">\J</span>ava<span class="se">\j</span>re7<span class="o">]</span>:
</span><span class='line'>Upgrade c:<span class="se">\U</span>sers<span class="se">\g</span>errit2<span class="se">\g</span>errit<span class="se">\b</span>in<span class="se">\g</span>errit.war <span class="o">[</span>Y/n<span class="o">]</span>?
</span><span class='line'>Copying gerrit-2.8.war to c:<span class="se">\U</span>sers<span class="se">\g</span>errit2<span class="se">\g</span>errit<span class="se">\b</span>in<span class="se">\g</span>errit.war
</span><span class='line'>
</span><span class='line'>*** SSH Daemon
</span><span class='line'>***
</span><span class='line'>
</span><span class='line'>Listen on address              <span class="o">[</span>*<span class="o">]</span>:
</span><span class='line'>Listen on port                 <span class="o">[</span>29418<span class="o">]</span>:
</span><span class='line'>
</span><span class='line'>*** HTTP Daemon
</span><span class='line'>***
</span><span class='line'>
</span><span class='line'>Behind reverse proxy           <span class="o">[</span>y/N<span class="o">]</span>?
</span><span class='line'>Use SSL <span class="o">(</span>https://<span class="o">)</span>             <span class="o">[</span>y/N<span class="o">]</span>?
</span><span class='line'>Listen on address              <span class="o">[</span>*<span class="o">]</span>:
</span><span class='line'>Listen on port                 <span class="o">[</span>8080<span class="o">]</span>:
</span><span class='line'>Canonical URL                  <span class="o">[</span>http://review.example.com:8080/<span class="o">]</span>:
</span><span class='line'>
</span><span class='line'>*** Plugins
</span><span class='line'>***
</span><span class='line'>
</span><span class='line'>Install plugin reviewnotes version v2.8 <span class="o">[</span>y/N<span class="o">]</span>?
</span><span class='line'>Install plugin download-commands version v2.8 <span class="o">[</span>y/N<span class="o">]</span>?
</span><span class='line'>Install plugin replication version v2.8 <span class="o">[</span>y/N<span class="o">]</span>?
</span><span class='line'>Install plugin commit-message-length-validator version v2.8 <span class="o">[</span>y/N<span class="o">]</span>?
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>*** Jira connectivity
</span><span class='line'>***
</span><span class='line'>
</span><span class='line'>Jira URL <span class="o">(</span>empty to skip<span class="o">)</span>       <span class="o">[</span>https://jira.example.com/<span class="o">]</span>:
</span><span class='line'>Jira username                  <span class="o">[</span>jira-robot<span class="o">]</span>:
</span><span class='line'>Change jira-robot<span class="err">&#39;</span>s password        <span class="o">[</span>y/N<span class="o">]</span>?
</span><span class='line'>Test connectivity to https://jira.example.com <span class="o">[</span>y/N<span class="o">]</span>? y
</span><span class='line'>Checking Jira connectivity ... <span class="o">[</span>OK<span class="o">]</span>
</span><span class='line'>
</span><span class='line'>*** Jira issue-tracking association
</span><span class='line'>***
</span><span class='line'>
</span><span class='line'>Jira issue-Id regex            <span class="o">[([</span>A-Z<span class="o">]</span>+-<span class="o">[</span>0-9<span class="o">]</span>+<span class="o">)]</span>:
</span><span class='line'>Issue-id enforced in commit message <span class="o">[</span>MANDATORY/?<span class="o">]</span>:?
</span><span class='line'>Supported options are:
</span><span class='line'>           mandatory
</span><span class='line'>           suggested
</span><span class='line'>           optional
</span><span class='line'>Issue-id enforced in commit message <span class="o">[</span>MANDATORY/?<span class="o">]</span>: suggested
</span><span class='line'>Initialized C:<span class="se">\U</span>sers<span class="se">\g</span>errit2<span class="se">\g</span>errit
</span></code></pre></td></tr></table></div></figure>


<p><strong>16</strong>. Restart gerrit-jetty service:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>sudo service gerrit-jetty.sh restart
</span></code></pre></td></tr></table></div></figure>


<p><strong>17</strong>. Done!</p>

<h3>NOTES:</h3>

<p><em>1</em>. Download Gerrit here: <a href="http://gerrit-releases.storage.googleapis.com/index.html">http://gerrit-releases.storage.googleapis.com/index.html</a></p>

<p><em>2</em>. The file review_site/etc/gerrit.config should look like:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="o">[</span>jira<span class="o">]</span>
</span><span class='line'>        <span class="nv">url</span> <span class="o">=</span> http://review.example.com:8080
</span><span class='line'>        <span class="nv">username</span> <span class="o">=</span> jira-robot
</span><span class='line'>        <span class="nv">commentOnRefUpdatedGitWeb</span> <span class="o">=</span> <span class="nb">false</span>   <span class="c"># to comment gitweb comments on jira</span>
</span><span class='line'><span class="o">[</span>commentLink <span class="s2">&quot;jira&quot;</span><span class="o">]</span>
</span><span class='line'>        <span class="nv">match</span> <span class="o">=</span> <span class="o">([</span>A-Z<span class="o">]</span>+-<span class="o">[</span>0-9<span class="o">]</span>+<span class="o">)</span>
</span><span class='line'>        <span class="nv">html</span> <span class="o">=</span> &lt;a <span class="nv">href</span><span class="o">=</span><span class="se">\&quot;</span>http://jira.example.com:8080/browse/<span class="nv">$1</span><span class="se">\&quot;</span>&gt;<span class="nv">$1</span>&lt;/a&gt;
</span><span class='line'>        <span class="nv">association</span> <span class="o">=</span> SUGGESTED
</span></code></pre></td></tr></table></div></figure>


<p><em>3</em>. If we just want to parse the jira id on the subject of the git comments, then here is the diff:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>diff --git a/hooks-its/src/main/java/com/googlesource/gerrit/plugins/hooks/util/
</span><span class='line'>index a04b175..3d56426 100644
</span><span class='line'>--- a/hooks-its/src/main/java/com/googlesource/gerrit/plugins/hooks/util/CommitM
</span><span class='line'>+++ b/hooks-its/src/main/java/com/googlesource/gerrit/plugins/hooks/util/CommitM
</span><span class='line'>@@ -31,7 +31,7 @@ public class CommitMessageFetcher <span class="o">{</span>
</span><span class='line'>       RevWalk <span class="nv">revWalk</span> <span class="o">=</span> new RevWalk<span class="o">(</span>repo<span class="o">)</span>;
</span><span class='line'>       RevCommit <span class="nv">commit</span> <span class="o">=</span> revWalk.parseCommit<span class="o">(</span>ObjectId.fromString<span class="o">(</span>commitId<span class="o">))</span>;
</span><span class='line'>
</span><span class='line'>-      <span class="k">return </span>commit.getFullMessage<span class="o">()</span>;
</span><span class='line'>+      <span class="k">return </span>commit.getShortMessage<span class="o">()</span>;
</span><span class='line'>     <span class="o">}</span> finally <span class="o">{</span>
</span><span class='line'>       repo.close<span class="o">()</span>;
</span><span class='line'>     <span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p><em>4</em>. Get the log message from jetty/logs on Gerrit server.
<em>5</em>. Gerrit choose BUCK as its new build system, so for the new plugin, the build steps should be (take cookbook-plugin as an example):</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>buck build plugins/cookbook-plugin
</span></code></pre></td></tr></table></div></figure>


<p>The output is created in: buck-out/gen/plugins/cookbook-plugin/cookbook-plugin.jar</p>

<h3>References:</h3>

<p><em>1</em>. <a href="https://groups.google.com/forum/#!msg/repo-discuss/GSyHMeaCyyw/cJGunFcNc4oJ">https://groups.google.com/forum/#!msg/repo-discuss/GSyHMeaCyyw/cJGunFcNc4oJ</a>
<em>2</em>. <a href="https://gerrit-review.googlesource.com/Documentation/dev-buck.html">https://gerrit-review.googlesource.com/Documentation/dev-buck.html</a></p>

<blockquote><p>Written with <a href="https://stackedit.io/">StackEdit</a>.</p></blockquote>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/04/24/playing-with-jenkins-create-job/">Playing With Jenkins Create Job</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-04-24T22:08:09-07:00" pubdate data-updated="true">Apr 24<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img src="https://lh4.googleusercontent.com/-iwPM2DPUvJY/U0Y1mjJ70WI/AAAAAAAAB4g/ZOmWzMCL-_0/s0/jenkins_feature.jpg" title="jenkins_feature.jpg" alt="Jenkins logo" /></p>

<h2>create new job from templates</h2>

<p>In this article, we will talk about how to create a Jenkins job with a template by some commands.</p>

<h3>Instructions</h3>

<p><em>1</em>. Get the Jenkins CLI client package</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ wget http://jenkins/jnlpJars/jenkins-cli.jar</span></code></pre></td></tr></table></div></figure>


<p><em>2</em>. Check which commands supported by the client package [Exception <em>1</em>,<em>2</em>]</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ java -jar jenkins-cli.jar -s http://jenkins/ help</span></code></pre></td></tr></table></div></figure>


<p><em>3</em>. List all jobs under the view: tools</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ java -jar jenkins-cli.jar -s http://jenkins/ list-jobs tools</span></code></pre></td></tr></table></div></figure>


<p><em>4</em>. Get the configuration of the job: template</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ java -jar jenkins-cli.jar -s http://jenkins/ get-job template &gt; template.xml</span></code></pre></td></tr></table></div></figure>


<p><em>5</em>. Create a new job based on the configuration</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ java -jar jenkins-cli.jar -s http://jenkins/ create-job new_job_name &lt; new_job_name.xml</span></code></pre></td></tr></table></div></figure>


<p><em>6</em>. Run groovy script</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ java -jar jenkins-cli.jar -s http://jenkins/ groovy scripts/add_job_to_view.groovy</span></code></pre></td></tr></table></div></figure>


<p>If there are any parameters in the script, just as:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>import jenkins.model.*
</span><span class='line'>
</span><span class='line'>if (args.length != 2 ) {
</span><span class='line'>  println "Error on arguments!"
</span><span class='line'>}
</span><span class='line'>def jobName  = args[0] ?: 'a_job'
</span><span class='line'>def viewName = args[1] ?: 'a_view'
</span><span class='line'>
</span><span class='line'>println jobName + ' ' + viewName
</span><span class='line'>
</span><span class='line'>def v = Jenkins.instance.getView(viewName)
</span><span class='line'>def i = Jenkins.instance.getItemByFullName(jobName)
</span><span class='line'>if (v && i) {
</span><span class='line'>  v.add(i)
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<p>pass the parameters as:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ java -jar jenkins-cli.jar -s http://jenkins/ groovy scripts/add_job_to_view.groovy JOB_NAME VIEM_NAME</span></code></pre></td></tr></table></div></figure>


<p><em>7</em>. Build a job</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ java -jar jenkins-cli.jar -s http://jenkins/ build new_job_name</span></code></pre></td></tr></table></div></figure>


<p><em>8</em>. Diable a job</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ java -jar jenkins-cli.jar -s http://jenkins/ disable-job new_job_name</span></code></pre></td></tr></table></div></figure>


<h3>Exceptions:</h3>

<p><em>1</em>. Description:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Exception in thread "main" java.io.IOException: No X-Jenkins-CLI2-Port among [null, Vary, Date, Content-Length, Keep-Alive, Set-Cookie, Connection, Content-Type, X-Powered-By, Server]
</span><span class='line'>  at hudson.cli.CLI.getCliTcpPort(CLI.java:281)
</span><span class='line'>  at hudson.cli.CLI.&lt;init&gt;(CLI.java:128)
</span><span class='line'>  at hudson.cli.CLIConnectionFactory.connect(CLIConnectionFactory.java:72)
</span><span class='line'>  at hudson.cli.CLI._main(CLI.java:449)
</span><span class='line'>  at hudson.cli.CLI.main(CLI.java:378)
</span><span class='line'>  Suppressed: java.io.EOFException: unexpected stream termination
</span><span class='line'>      at hudson.remoting.ClassicCommandTransport.create(ClassicCommandTransport.java:100)
</span><span class='line'>      at hudson.remoting.Channel.&lt;init&gt;(Channel.java:392)
</span><span class='line'>      at hudson.remoting.Channel.&lt;init&gt;(Channel.java:388)
</span><span class='line'>      at hudson.remoting.Channel.&lt;init&gt;(Channel.java:349)
</span><span class='line'>      at hudson.remoting.Channel.&lt;init&gt;(Channel.java:345)
</span><span class='line'>      at hudson.remoting.Channel.&lt;init&gt;(Channel.java:333)
</span><span class='line'>      at hudson.cli.CLI.connectViaHttp(CLI.java:159)
</span><span class='line'>      at hudson.cli.CLI.&lt;init&gt;(CLI.java:132)
</span><span class='line'>      ... 3 more</span></code></pre></td></tr></table></div></figure>


<h4>Solution: check the port which Jenkins is running on, put 8080 on URL should fix, just as:</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ java -jar jenkins-cli.jar -s http://jenkins:8080/ help</span></code></pre></td></tr></table></div></figure>


<p><em>2</em>. Description:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Failed to authenticate with your SSH keys.
</span><span class='line'>hudson.security.AccessDeniedException2: anonymous is missing the ExtendedRead permission
</span><span class='line'>  at hudson.security.ACL.checkPermission(ACL.java:54)
</span><span class='line'>  at hudson.model.AbstractItem.checkPermission(AbstractItem.java:441)
</span><span class='line'>  at hudson.cli.GetJobCommand.run(GetJobCommand.java:46)
</span><span class='line'>  at hudson.cli.CLICommand.main(CLICommand.java:229)
</span><span class='line'>  at hudson.cli.CliManagerImpl.main(CliManagerImpl.java:92)
</span><span class='line'>  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
</span><span class='line'>  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
</span><span class='line'>  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
</span><span class='line'>  at java.lang.reflect.Method.invoke(Method.java:616)
</span><span class='line'>  at hudson.remoting.RemoteInvocationHandler$RPCRequest.perform(RemoteInvocationHandler.java:275)
</span><span class='line'>  at hudson.remoting.RemoteInvocationHandler$RPCRequest.call(RemoteInvocationHandler.java:256)
</span><span class='line'>  at hudson.remoting.RemoteInvocationHandler$RPCRequest.call(RemoteInvocationHandler.java:215)
</span><span class='line'>  at hudson.remoting.UserRequest.perform(UserRequest.java:118)
</span><span class='line'>  at hudson.remoting.UserRequest.perform(UserRequest.java:48)
</span><span class='line'>  at hudson.remoting.Request$2.run(Request.java:326)
</span><span class='line'>  at hudson.remoting.InterceptingExecutorService$1.call(InterceptingExecutorService.java:72)
</span><span class='line'>  at hudson.cli.CliManagerImpl$1.call(CliManagerImpl.java:63)
</span><span class='line'>  at hudson.remoting.InterceptingExecutorService$2.call(InterceptingExecutorService.java:95)
</span><span class='line'>  at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)
</span><span class='line'>  at java.util.concurrent.FutureTask.run(FutureTask.java:166)
</span><span class='line'>  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)
</span><span class='line'>  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)
</span><span class='line'>  at java.lang.Thread.run(Thread.java:679)</span></code></pre></td></tr></table></div></figure>


<h4>Solution: add client public ssh key to the Jenkins server at: <code>http://jenkins/user/USERNAME/configure</code> | <code>SSH Public Keys</code>.</h4>

<p><em>3</em>. Description:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>hudson.security.AccessDeniedException2: &lt;USERNAME&gt; is missing the Job/ExtendedRead permission
</span><span class='line'>  at hudson.security.ACL.checkPermission(ACL.java:54)
</span><span class='line'>  at hudson.model.AbstractItem.checkPermission(AbstractItem.java:446)
</span><span class='line'>  at hudson.cli.GetJobCommand.run(GetJobCommand.java:46)
</span><span class='line'>  at hudson.cli.CLICommand.main(CLICommand.java:234)
</span><span class='line'>  at hudson.cli.CliManagerImpl.main(CliManagerImpl.java:92)
</span><span class='line'>  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
</span><span class='line'>  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
</span><span class='line'>  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
</span><span class='line'>  at java.lang.reflect.Method.invoke(Method.java:606)
</span><span class='line'>  at hudson.remoting.RemoteInvocationHandler$RPCRequest.perform(RemoteInvocationHandler.java:300)
</span><span class='line'>  at hudson.remoting.RemoteInvocationHandler$RPCRequest.call(RemoteInvocationHandler.java:281)
</span><span class='line'>  at hudson.remoting.RemoteInvocationHandler$RPCRequest.call(RemoteInvocationHandler.java:240)
</span><span class='line'>  at hudson.remoting.UserRequest.perform(UserRequest.java:118)
</span><span class='line'>  at hudson.remoting.UserRequest.perform(UserRequest.java:48)
</span><span class='line'>  at hudson.remoting.Request$2.run(Request.java:328)
</span><span class='line'>  at hudson.remoting.InterceptingExecutorService$1.call(InterceptingExecutorService.java:72)
</span><span class='line'>  at hudson.cli.CliManagerImpl$1.call(CliManagerImpl.java:63)
</span><span class='line'>  at hudson.remoting.InterceptingExecutorService$2.call(InterceptingExecutorService.java:95)
</span><span class='line'>  at jenkins.util.ContextResettingExecutorService$2.call(ContextResettingExecutorService.java:46)
</span><span class='line'>  at java.util.concurrent.FutureTask.run(FutureTask.java:262)
</span><span class='line'>  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
</span><span class='line'>  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
</span><span class='line'>  at java.lang.Thread.run(Thread.java:745)</span></code></pre></td></tr></table></div></figure>


<h4>Solution: Jenkins server &ndash;> Manage Jenkins &ndash;> Configure Global Security to add <USERNAME> related permissions.</h4>

<h3>References:</h3>

<ol>
<li><a href="http://www.blackpepper.co.uk/generating-new-jenkins-jobs-from-templates-and-parameterised-builds/">http://www.blackpepper.co.uk/generating-new-jenkins-jobs-from-templates-and-parameterised-builds/</a></li>
<li><a href="http://javadoc.jenkins-ci.org/jenkins/model/Jenkins.html">http://javadoc.jenkins-ci.org/jenkins/model/Jenkins.html</a></li>
<li><a href="https://github.com/jenkinsci/jenkins">https://github.com/jenkinsci/jenkins</a></li>
</ol>


<blockquote><p>Written with <a href="https://stackedit.io/">StackEdit</a>.</p></blockquote>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/3/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  <div class='social'>
  <a id="gmail" href="mailto:lifuzu@gmail.com"><span></span>Send an email</a>
  <a id="github" href="https://github.com/lifuzu"><span></span>@lifuzu</a>
  <a id="linkedin" href="http://linkedin.com/in/lifuzu"><span></span>Richard Li</a>
</div>

  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2016/04/13/continuous-integration-slash-delivery-pipeline/">Continuous Integration/Delivery Pipeline</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/03/21/feeding-build-logs-into-elasticsearch-with-logstash-on-jenkins/">Feeding Build Logs Into Elasticsearch With Logstash on Jenkins</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/03/06/playing-with-ansible-to-manage-build-pool/">Playing With Ansible to Manage Build Pool</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/01/01/install-libxmljs-failed-on-macosx/">Install Libxmljs Failed on Macosx</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/10/08/restful-wordpress/">RESTful WordPress</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/lifuzu">@lifuzu</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'lifuzu',
            count: 5,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2016 - Richard Li -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'lifuzu';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
